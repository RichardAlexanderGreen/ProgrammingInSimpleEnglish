===Comment: Base Ontology.. The base vocabulary includes: . 	  order, order item, bill-of-material, material, part, assembly, . 	  container, person, worker, employee, organization, roles, . 	  measure, metric, money, cost, price, account, . 	  resource, resource-pool, inventory, . 	  and more.===Dictionary: A coffee-drink is a drink, etc.. A coffee-drink is a beverage.. A drink is a beverage.. A beverage is a product.. A coffee is a coffee-drink.. A drink is a product.. A coffee-drink has a recipe.. An order-out-queue is a location.. A 4-pack-carrier is a carrier.. A 6-pack-carrier is a carrier.. A 12-pack-carrier is a carrier.. A carrier is a container.===Dictionary: Basic Accounting.. Account attributes include account-type, name, metric.. Account-type categories include expense, revenue, asset, liability, resource.. . Account subtypes include expense-account, revenue-account, asset-account, liability-account.. Account subtypes include credit-account, debit-account.. Money subtypes include expense, revenue, asset, liability.. Journal-entry attributes include journal-name, measure, credit-account-name, debit-account-name.. Ledger-entry attributes include ledger-name, measure, ledger-account-name, ledger-account-name.. Journal attributes include journal-name.. Ledger attributes include ledger-name.===Dictionary: Calculated items. (temporary stub). Total is calculated.. Discount is calculated.. Order-total is calculated.. Taxable-subtotal is calculated.. Price is calculated.. Bill-total is calculated.. Tax is calculated.===Dictionary: Coffee and Donuts.. A donut is a product.. A beverage is a product.. A donut is a part.. A donut-item is an order-item.. A coffee-item is an order-item.. A carrier is a container.. A carrier is a part.. A customer is a person.. An order-item is an item.. A menu is a catalog.. A menu-form is a form.===Dictionary: Data types. (These are all primitive types in Hum. The description here is informational.). Data-type categories include measure, string, text, date, date-time, time-stamp, identifier, entity, attribute, category.. . . . Text is a string.. Text attributes include markup.. String attributes include character-list.. Character attributes include id , glyph.. Two-digit-string subtypes include mm, dd, hour, minute, second.. Date attributes include mm, dd, year, day-of-week, month.. Month subtypes include January, February, March, April, May, June, July, August, September, October, November, December.. Month attributes include name, mm, abbreviation, quarter.. Day-of-week subtypes include Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday.. Day-of-week attributes include name, abbreviation, day-types.. Day-type categories include weekday, weekend, holiday.. Date-time attributes include date, time-of-day.. Time-of-day attributes include hour, minute, second.. Time-stamp attributes include date-time, event.. Event attributes include event-id.. Identifier is a string.. Entity attributes include name, attributes.. Attribute attributes include name, data-type.. Category attributes include name, category-values.. Category-value is a string.===Dictionary: Derived items. (temporary stub). Order is derived from menu-form.. Bill is derived from order.. Order-item is derived from order.. Coffee-item is derived from order-item.. ===Dictionary: Equipment.. A stacker is a type of equipment.. Equipment attributes include location, asset-number.. An outgoing-coffee-queue is a queue.. Coffee-staging-area is a workspace.===Dictionary: Inventory accounting.. An asset-account is an account.. this-account is an account.. that-account is an account.. this-pool is a resource-pool.. that-pool is a resource-pool.. Cost-of-goods-sold is an account.. Sales-revenue is an account.. Cost is an amount.. Price is an amount.. Tax is an amount.. Discount is an amount.. A total is an amount.===Dictionary: Items.. Coffee-item is an order-item.. Conut-item is an order-item.. Order-item is a product.. Carrier is a part.. Carrier is a container.. Order is a transaction.===Dictionary: Measures and Metrics.. Measure attributes include quantity, metric, precision.. Metric categories include meter, liter, milliliter, pound, gram, kilogram, millimeter, centimeter, ounce, fluid-ounce, cubic-centimeter.. cc is abbreviation for cubic-centimeter.. ml is abbreviation for milliliter.. oz is abbreviation for ounce.. lb is abbreviation for pound.. kg is abbreviation for kilogram.. cm is abbreviation for centimeter.. . Quantity is a number.. Precision is a number.. Observation attributes include name, date-time, location, observed-item, measures.. Money is a measure.. Money attributes include currency.. Money subtypes include cost, price.. Currency categories include US-dollar, Canadian-dollar, British-pound, Euro.===Dictionary: Method, Procedure.. Method attributes include principle-deliverable, description, inputs, step-list, advice.. Input attributes include input-type, name, measure.. Input-type categories include consumable, rentable.. Consumable categories include material-consumable, energy, part-consumable.. Rentable categories include skill, equipment, work-space.. . Method subtypes include recipe, procedure.. Deliverable is a product.. Step attributes include step-number, description, step-procedure , sub-product.===Dictionary: Order vocabulary.. Order attributes include order-date, buyer, buyer-account, provider, delivery-address, order-items, grand-total.. Grand-total is a money.. Order-item attributes include product, quantity-measure, unit-price, subtotal.===Dictionary: Party vocabulary.. Party attributes include name, postal-address, contact-channels, representative.. Person is a party.. Person attributes include first-name, last-name, family-name.. Worker is a person.. Employee is a worker.. Organization is a party.. Representative is a person.===Dictionary: Product, Service, Part.. Product attributes include name, metric.. Product subtypes include part, material, service.. Part attributes include name, description, standard-cost, standard-price.. Assembly is a part.. Assembly attributes include bill-of-material-table, method.. Material attributes include name, description, unit-of-measure.. Product-package attributes include product, package-unit-of-measure.. Bill-of-material-table attributes include bill-of-material-lines.. Bill-of-material-line attributes include part, quantity.===Dictionary: Queue.. An order-entry-queue is a queue.. . A queue is a workspace.. A workspace is a location.. Customer is user.===Dictionary: Resources.. Resource-pool attributes include name, resource-type, location, resources.. Resource-type categories include skill, material, product.. Inventory is a resource-pool.. Inventory attributes include resource-pools.===Dictionary: Role vocabulary.. Role attributes include name, process.. Assignment attributes include role, party.===Dictionary: Stackers, racks, trays.. A stacker is a container.. A rack is a container.. A donut-tray is a tray.. A donut-rack is a rack.. An outgoing-donut-queue is a location.. A donut-inventory is an inventory.. A material-inventory is an inventory.===Dictionary: Various containers.. A tray is a container.. A tray is a type of equipment.. A coffee-tray is a tray.. A donut-tray is a tray.. A stacker is a type of equipment.. A stacker is a container.. A cup-dispenser is a container.. A cup-dispenser is a type of equipment.. A donut-rack is a type of equipment.. A cup is a part.. A recipe is a bill-of-material.. A coffee-staging-area is a workspace.. Outgoing-coffee-queue is a workspace.. Outgoing-donut-queue is a workspace.. Order-out-queue is a workspace.. Coffee-staging-area is a workspace.. A workspace is a location.. Flavor is a material.. Coffee-tray-stacker is a stacker.. Donut-tray-stacker is a stacker.. A container is a thing.. A part is a thing.===Dictionary: Various documents.. A menu-form is a form.. A bill is a document.. An order is a transaction.. A receipt is a document.. A cash-receipt is a receipt.. A credit-receipt is a receipt.. Plastic is synonym for credit-card.===Dictionary: View vocabulary.. View attributes include view-name, associated-entity.===Context: BookkeepingOperations.U:  Credit [credit-account] debit [debit-account] with [measure] in [journal-name].S:  Ok.. Bookkeeper: Credit credit-account debit debit-account with measure in journal-name.===Context: DeliverOrder-3Vignettes.U:  * okay *.S:  Live long and prosper.U:  * bye *.S:  Good bye.S:    We hope to see you again soon.. Done.U:  Thank you *.S:  You are most welcome.  . Avatar: Smile.S:    We are pleased to have your business.===Context: ExplainPayment-5Vignettes.U:  * cash *.S:  Excellent!  . Avatar: Smile.S:    That will be [bill total] please.  U:  * card *.S:  Thank you.  . Cashier: Run card through reader and validate.S:    Would you sign here please?U:  * credit *.U:  * plastic *.S:  Plastic! Okay. . Avatar: Raise eye-brow.S:   Your card please? U:  * money *.S:  Thank you. . Cashier: Accept cash and make change.S:    Here is your receipt.. Cashier: Give cash-receipt to the customer.S:    Your order should be up any second now.  U:  * signature *.S:  Thank you. S:    You have an very interesting signature.S:    Your order should be up any second now.  . Cashier: Give credit-receipt to the customer.. Deliver order.===Context: LedgerSetup.U:  Create new account.S:  Ok.. New account.. Ask Account-Spec.===Context: TakeOrder-1Vignettes.U:  [Customer] presents [order].S:  Thank you for your order.S:    Your tray will be delivered at the delivery counter.. Goal: Customer is served.. Assert: Customer has entered an order.. Assert: Customer has paid for order.S:  Here is your order.S:    Have a good day.  ===Role: Book-keeper===Role: Book-keeper -- Get cost of resource.. To: Get cost of resource.. Resource-Manager: Get bid for resource.	[native]===Role: Book-keeper -- Transfer amount from this-account to that-account.. To: Transfer amount from this-account to that-account.. Subtract amount from this-account.	[native]. Add amount to that-account.		[native]. ===Role: Book-keeper -- Transfer amount from this-thing's this-account to that-thing's that-account.. To: Transfer amount from this-thing's this-account to that-thing's that-account.. Transfer amount from this-account to that-account.. ===Role: Book-keeper -- Transfer order's amount to account.. Action: Transfer order's amount to account.. Add amount to account.		[native]. ===Role: Book-keeper -- Transfer product's cost from this-inventory to that-inventory.. Action: Transfer product's cost from this-inventory to that-inventory.. Transfer cost from this-inventory's cost-account to that-inventory's cost-account..  ((Expect critique to complain about line above.)) . ===Role: Book-keeper -- Transfer resource from this-pool to that-pool.. Action: Transfer resource from this-pool to that-pool.. Get cost of resource.. Transfer cost from this-pool's asset-account to that-pool's asset-account.. ===Role: Bookkeeper===Role: Bookkeeper -- Add measure to account.. Action: Add measure to account.. ===Role: Bookkeeper -- Create account-type named name with initial value measure.. Action: Create account-type named name with initial value measure..  ((How will the blackboard and/or world-base know this is a new instance of account?)) .  ((Normally new instances are created via DialogAgent invoked by {New entity-type}.)) .  ((The assumption is that the user-interface platform will provide the needed create/update logic.)) . ===Role: Bookkeeper -- Credit credit-account debit debit-account with measure in journal-name.. Action: Credit credit-account debit debit-account with measure in journal-name..  ((How does this transaction get associated with a business event?)) .  ((TODO: Rewrite Bookkeeper so that transactions are associated with business events.)) . Credit credit-account debit debit-account with measure.. ===Role: Bookkeeper -- Credit credit-account debit debit-account with measure.. Action: Credit credit-account debit debit-account with measure.. Add measure to credit-account.. Subtract measure from debit-account.. ===Role: Bookkeeper -- Subtract measure from account.. Action: Subtract measure from account.. ===Role: Cashier===Role: Cashier -- Accept cash and make change.. Action: Accept cash and make change.. Accept cash, make change. [15 seconds]. ===Role: Cashier -- Accept payment from customer.. Action: Accept payment from customer.. Speaker: Accept payment.	[9 seconds]. ===Role: Cashier -- Add any amount to total.. To: Add any amount to total.. Add amount to total. 	[1 second]. ===Role: Cashier -- Explain bill.. Action: Explain bill. . Speaker: Explain bill to customer.	[9 seconds]. ===Role: Cashier -- Give cash-receipt to the customer.. Action: Give cash-receipt to the customer.. Print cash-receipt.			[5 seconds]. Give cash-receipt to the customer.	[3 seconds]. ===Role: Cashier -- Give credit-receipt to the customer.. Action: Give credit-receipt to the customer.. Print credit-receipt.			[5 seconds]. Give credit-receipt to the customer.	[3 seconds]. ===Role: Cashier -- Prepare bill.. Action: Prepare bill.                        . Sum prices of order-items into order-total.	[native]. Subtract any discounts from order-total to get taxable-subtotal.. Add any taxes to taxable-subtotal to get bill-total.. ===Role: Cashier -- Run card through reader and validate.. Action: Run card through reader and validate.. Run card through reader.	[3 seconds]. Wait for validation signal.	[5 seconds]. Return card to customer.	[2 seconds]. ===Role: Cashier -- Subtract any amount from total.. To: Subtract any amount from total.. Subtract amount from total.	[1 second]. ===Role: Coffee-Mixer===Role: Coffee-Mixer -- Get container from stacker.. To: Get container from stacker.. Move to stacker's location.. Remove container from stacker. [native]. ===Role: Coffee-Mixer -- Prepare the coffee-item.. To: Prepare the coffee-item.                  . Fetch recipe's cup from cup-dispenser.. Add flavors shown in coffee-item's recipe.. Add coffee amount shown in coffee-item's recipe.. Move cup to coffee-staging-area.. Book-keeper: Transfer coffee-item's materials from coffee-maker's material-inventory to coffee-tray.. ===Role: Coffee-Mixer -- Prepare the coffee-items in the order.. Action: Prepare the coffee-items in the order.  . Get a coffee-tray from the coffee-tray-stacker. [7 seconds native]. For each coffee-item in order:. Prepare the coffee-item.       		[distribution: 5,25,50 seconds ]. Add coffee-item to coffee-tray.		[5 seconds]. Move coffee-tray to outgoing-coffee-queue.	[4 seconds]. ===Role: Customer===Role: Customer -- Fill in the menu-form.. Action: Fill in the menu-form.			. Read the menu-form.		[8 seconds]. Decide what is wanted.	[8 seconds]. Fill in the menu-form.	[8 seconds]. ===Role: Customer -- Present credit card.. Action: Present credit card.. Fish in pocket or purse for wallet. 		[5 seconds]. Search through cards for the right card. 	[5 seconds]. Hand the card to the cashier. 		[2 seconds]===Role: Customer -- Submit menu-form to order-taker.. Action: Submit menu-form to order-taker. 	. Give the menu-form to the order-taker.	[3 seconds]. ===Role: DialogAgent===Role: DialogAgent -- Ask view.. Action: Ask view..  ((A view is identified by its name.)) . ===Role: DialogAgent -- New entity.. Action: New entity..  ((Create a new instance of given entity-type.)) ===Role: DialogAgent -- Show view.. Action: Show view..  ((Show the view in read-only mode.)) . ===Role: Donut-Fetcher===Role: Donut-Fetcher -- Add item to container.. To: Add item to container.. Move to container.. Put item into container.	[native]===Role: Donut-Fetcher -- Fetch the donut from the donut-rack.. To: Fetch the donut from the donut-rack.    . Move to donut-rack.. Take donut from the donut-rack..  ((Is this needed? Does the system already know how to do this?)) . ===Role: Donut-Fetcher -- Fetch the donut-items in the order.. Action: Fetch the donut-items in the order.   . Get a donut-tray from donut-tray-stacker. [native]. For each donut in the order:. Fetch the donut from the donut-rack.. Add the donut to the donut-tray..  ((Book-keeper: Transfer donut's cost from donut-inventory to donut-tray.)) . Move tray to outgoing-donut-queue.. ===Role: Donut-Fetcher -- Get item from container.. To: Get item from container.. Move to container.. Remove item from container.	[native]. ===Role: Donut-Fetcher -- Move carrier to location.. To: Move carrier to location.. Move to location.. Place carrier at location.	[native]. ===Role: Donut-Fetcher -- Move to container.. To: Move to container.. Move self to container's location. [native]. ===Role: Donut-Fetcher -- Move to location.. To: Move to location.. Move self to location.	[native]. ===Role: Donut-Fetcher -- Take item from container.. To: Take item from container.. Get item from container.. ===Role: Mobile-Agent===Role: Mobile-Agent -- Get thing from location.. Action: Get thing from location.. Move to location.. Get thing from location. [native].  ((Is "native" a safe assumption?)) . ===Role: Mobile-Agent -- Move thing to location.. Action: Move thing to location.. Move to location.. Place thing at location. [native]. ===Role: Mobile-Agent -- Move to equipment's location.. Action: Move to equipment's location.. Move to location.. ===Role: Mobile-Agent -- Move to location.. Action: Move to location.. Move self to location. [native]. ===Role: Order-Assembler===Role: Order-Assembler -- Assemble beverages and donuts into appropriate carriers.. To: Assemble beverages and donuts into appropriate carriers.   	. If order has less than two beverages: ((How will this work? Is there a sensor?)) . Select no carrier.. ElseIf order has less than five beverages:. Select 4-pack-carrier.. ElseIf order has less than seven beverages:. Select 6-pack-carrier.. ElseIf order has more than six beverages:. Select 12-pack-carrier.. Distribute beverages and donuts on carrier..  ((This does not cover really large orders with more than 12 beverages.)) . ===Role: Order-Assembler -- Assemble order-items into carriers.. Action: Assemble order-items into carriers.  . Bag or box donuts as appropriate.. Assemble beverages and donuts into appropriate carriers.. Move carriers to order-out-queue.. ===Role: Order-Assembler -- Bag or box donuts as appropriate.. To: Bag or box donuts as appropriate.     . If the order has more than six donuts:. Fetch a box from box-stacker.. Erect the box.. Else:. Fetch a bag from the bag-dispenser.. Pop the bag.. ===Role: Order-Assembler -- Select carrier.. To: Select carrier. (Note use of super-type.). Pull given type of carrier from associated stack.. Bookkeeper: Transfer carrier part from stack to work-in-progress.. ===Role: Order-Checker===Role: Order-Checker -- Give carriers to the customer.. Action: Give carriers to the customer.     	. Match carrier to order.. Move matched carrier to scale..  ((This catches most errors with carrier sequencing.)) . If scale weight matches order's expected weight:. Release carriers to customer.		[native].  ((Book-Keeper: Transfer order's cost to cost-of-goods-sold.)) .  ((Book-Keeper: Transfer order's price to sales-revenue.)) . Else:.  ((Most likely error is that carrier is out of sequence.)) . Check for carrier-sequence-error.. Speaker: Deliver order.===Role: Order-Taker===Role: Order-Taker -- Get the order.. Action: Get the order.. Speaker: Show menu-form.. Validate menu-form.. Translate menu-form to customer order.. ===Role: Order-Taker -- Provide customer with menu-form.. Action: Provide customer with menu-form. . Speaker: Show menu-form. [2 seconds]. ===Role: Order-Taker -- Translate menu-form to customer order.. Action: Translate menu-form to customer order..  ((Is this needed?)) ===Role: Order-Taker -- Validate menu-form.. Action: Validate menu-form. .  ((It must have at least one item selected.)) . ===Role: Speaker===Role: Speaker -- Accept payment.. Action: Accept payment.. Dialog. [Explain payment.]. ===Role: Speaker -- Deliver order.. Action: Deliver order.. Dialog. [Deliver order.]===Role: Speaker -- Explain bill and accept payment.. Action: Explain bill and accept payment.. Explain bill.. Accept payment.. ===Role: Speaker -- Explain bill to customer.. Action: Explain bill to customer.. Show. [Bill.]. ===Role: Speaker -- Request payment.. Action: Request payment.. Dialog. [Explain payment.]. ===Role: Speaker -- Show document.. Action: Show document.. Show document view. 	[native]. ===Role: Speaker -- Show view.. To: Show view.. Show view named in annotation. [native]. ===Role: Speaker -- Show view.. To: Show view.. Show view named in annotation. [native]. ===Goal: Customer has entered an order.. Preconditions: . Customer is at front of order-entry-queue. [Signal from queue.]. . Actions:. Order-Taker: Get the order.===Goal: Customer has paid for order.. Preconditions: Customer has entered an order.. Actions: . Cashier: Prepare bill.. Speaker: Explain bill to customer.. Cashier: Accept payment from customer.. (Note: The actions in this task frame assume a sequence.) ===Goal: Customer is served.. Preconditions: . Customer has entered an order.. Customer has paid for order.. Actions:. Coffee-Mixer: Prepare the coffee-items in the order.. Donut-Fetcher: Fetch the donut-items in the order.. Order-Assembler: Assemble order-items into carriers.. Order-Checker: Give carriers to the customer.===View: Account-Spec.. !!! Create a new account..   Account Type: [account-type]. Account Metric: [metric]===View: Bill.. !! Happy Hour Kaffee Klub - Invoice..   [drink total] Total for Drinks..   [donut total] Total for Donuts..   ============-.   [order total] Subtotal..   [discounts  ] ~less discounts.~.   ============-.   [taxable    ] Taxable Amount..   [sales taxes] Sales Taxes..   ============-.   [total owed ] Total Due.===View: Cash-Receipt.. !! Happy Hour Kaffee Klub - Cash Reciept..   [drink total] Total for Drinks..   [donut total] Total for Donuts..   ============-.   [order total] Subtotal..   [discounts  ] ~less discounts.~.   ============-.   [taxable    ] Taxable Amount..   [sales taxes] Sales Taxes..   ============-.   [total owed ] Total Paid (Cash).  ===View: Credit-Receipt.. !! Happy Hour Kaffee Klub - Cash Reciept..   [drink total] Total for Drinks..   [donut total] Total for Donuts..   ============-.   [order total] Subtotal..   [discounts  ] ~less discounts.~.   ============-.   [taxable    ] Taxable Amount..   [sales taxes] Sales Taxes..   ============-.   [total owed ] Total Paid (Card: [credit-card-ref]).  ===View: Menu-Form.. ! Happy Hour Kaffee Klub Menu.. !! Coffee Drinks..                     Mixed Drinks are $2.00 ..   [1] Kapa Chino  .   [2] X Press O.   [3] Mocha.   [4] Milkee.                     Plain Drinks are $1.00 ..   [5] _Plain_ Coffee.   [6] Plain Milk.   [7] *Fresh* Orange Juice. . !! Donuts..   Enter quantity of donuts desired:. .   [qPlain] Plain.   [qJelly] Jelly.   [qChoc ] Chocolate Glaze.   [qOat  ] Oat Meal.                     Donuts are $0.50 each.===View: Payment Options.. !! Here are your payment options..  (1) Cash   (2) Credit Card   (3) Happy Hour Coupon.===